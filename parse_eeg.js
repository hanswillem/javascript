// P5 setup
function setup() {
    var cnv = createCanvas(512, 288);
    background(108, 237, 218);
    stroke(255);
    noFill();
    scaledArr = scaleArray(eegData);
    myEeg = makeEegArray(scaledArr);
    drawLine(myEeg);
}


// draw a line from the eeg in P5
function drawLine(arr) {
    for (var i = 0; i < arr.length; i++) {
        if (i > 1) {
            line(arr[i-1][0], arr[i-1][1], arr[i][0], arr[i][1]);
        }
    }
}


// scale a one dimensional array so that the values range from -1.0 to 1.0;
function scaleArray(arr) {
    newArr = [];
    tempArr = arr.slice();
    tempArr.sort(function(a, b){return b-a});
    var largestNumber = tempArr[0];
    for (var i = 0; i < arr.length; i++) {
        var scaledVal = arr[i] / largestNumber;
        scaledVal *= 2.0;
        scaledVal -= 1;
        newArr.push(scaledVal);
    }
    return newArr;
}


// turn the eeg data into an two dimensional x-y array
function makeEegArray(arr) {
    var x, y, eegArr = [];
    for (x=0; x< arr.length; x++) {
        y = height/2 + arr[x];
        eegArr.push([x, y]);
    }
    return eegArr;
}


eegData = [
12,
22,
35,
45,
69,
74,
79,
78,
66,
43,
33,
36,
34,
38,
36,
28,
6,
-19,
-38,
-45,
-35,
-11,
6,
7,
7,
-2,
-3,
5,
19,
26,
25,
41,
46,
52,
50,
47,
38,
24,
17,
3,
-11,
-14,
-5,
2,
11,
28,
34,
29,
18,
16,
9,
5,
5,
-5,
-17,
-29,
-29,
-19,
-1,
17,
28,
19,
3,
-1,
-13,
-7,
-1,
0,
-11,
-12,
-4,
3,
11,
34,
44,
44,
38,
39,
39,
50,
50,
55,
51,
56,
53,
44,
28,
19,
22,
22,
39,
48,
50,
40,
22,
-2,
-19,
-13,
-15,
-29,
-48,
-43,
-29,
-5,
21,
33,
28,
18,
14,
-1,
-8,
-12,
-18,
-18,
-15,
-11,
-21,
-24,
-22,
-16,
-15,
-14,
-8,
-5,
1,
0,
0,
-8,
-20,
-28,
-42,
-41,
-20,
6,
18,
17,
17,
16,
17,
14,
6,
-2,
-7,
6,
22,
29,
29,
32,
28,
24,
30,
37,
35,
31,
37,
44,
52,
62,
58,
50,
40,
39,
43,
52,
65,
52,
30,
7,
-4,
-18,
-32,
-47,
-53,
-48,
-40,
-17,
-23,
-32,
-41,
-50,
-53,
-49,
-35,
-28,
-15,
-2,
14,
18,
15,
20,
14,
20,
22,
17,
6,
-1,
4,
13,
32,
52,
69,
77,
83,
80,
70,
63,
65,
60,
42,
29,
10,
-3,
0,
10,
10,
0,
-2,
2,
2,
-3,
-15,
-23,
-28,
-12,
-2,
-2,
-1,
17,
22,
38,
44,
42,
28,
3,
-12,
-33,
-44,
-47,
-45,
-45,
-46,
-40,
-33,
-6,
21,
32,
16,
-6,
-23,
-37,
-37,
-40,
-45,
-57,
-64,
-52,
-38,
-20,
-1,
10,
5,
-4,
-7,
-17,
-32,
-49,
-74,
-96,
-97,
-79,
-53,
-27,
-7,
10,
30,
49,
47,
32,
20,
27,
29,
15,
-9,
-31,
-45,
-47,
-44,
-59,
-66,
-65,
-43,
-7,
16,
34,
37,
44,
58,
65,
67,
62,
51,
26,
3,
-14,
-19,
-19,
-21,
-14,
1,
20,
44,
59,
67,
67,
72,
65,
59,
53,
38,
18,
6,
-4,
-6,
0,
9,
18,
23,
43,
62,
71,
78,
87,
91,
89,
82,
69,
58,
53,
58,
58,
54,
62,
58,
59,
53,
52,
46,
34,
22,
4,
-18,
-31,
-27,
-26,
-21,
-30,
-45,
-60,
-73,
];
